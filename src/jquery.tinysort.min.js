/* TinySort 1.5.0
* Copyright (c) 2008-2013 Ron Valstar http://tinysort.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
(function(e,c){var g=!1,h=null,n=parseFloat,i=Math.min,l=/(-?\d+\.?\d*)$/g,k=[],f=[],b=function(p){return typeof p=="string"},m=Array.prototype.indexOf||function(q){var o=this.length,p=Number(arguments[1])||0;p=p<0?Math.ceil(p):Math.floor(p);if(p<0){p+=o}for(;p<o;p++){if(p in this&&this[p]===q){return p}}return -1};e.tinysort={id:"TinySort",version:"1.5.0",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(o,p){k.push(o);f.push(p)},defaults:{order:"asc",attr:h,data:h,useVal:g,place:"start",returns:g,cases:g,forceStrings:g,sortFunction:h}};e.fn.extend({tinysort:function(){var I,E,K=this,G=e(K).length,s=[],r=[],L=[],N=[],w=0,q,D=[],A=[],B=function(o){e.each(k,function(O,P){P.call(P,o)})},x=function(X,V){var o=0;if(w!==0){w=0}while(o===0&&w<q){var U=N[w],R=U.oSettings;B(R);if(R.sortFunction){o=R.sortFunction(X,V)}else{if(R.order=="rand"){o=Math.random()<0.5?1:-1}else{var W=g,Q=!R.cases?a(X.s[w]):X.s[w],P=!R.cases?a(V.s[w]):V.s[w];if(!t.forceStrings){var O=b(Q)?Q&&Q.match(l):g,Y=b(P)?P&&P.match(l):g;if(O&&Y){var T=Q.substr(0,Q.length-O[0].length),S=P.substr(0,P.length-Y[0].length);if(T==S){W=!g;Q=n(O[0]);P=n(Y[0])}}}o=U.iAsc*(Q<P?-1:(Q>P?1:0))}}e.each(f,function(Z,aa){o=aa.call(aa,W,Q,P,o)});if(o===0){w++}}return o};for(I=0,E=arguments.length;I<E;I++){var C=arguments[I];if(b(C)){if(D.push(C)-1>A.length){A.length=D.length-1}}else{if(A.push(C)>D.length){D.length=A.length}}}if(D.length>A.length){A.length=D.length}q=D.length;if(q===0){q=D.length=1;A.push({})}for(I=0,E=q;I<E;I++){var J=D[I],t=e.extend({},e.tinysort.defaults,A[I]),v=!(!J||J==""),p=v&&J[0]==":";N.push({sFind:J,oSettings:t,bFind:v,bAttr:!(t.attr===h||t.attr==""),bData:t.data!==h,bFilter:p,$Filter:p?K.filter(J):K,fnSort:t.sortFunction,iAsc:t.order=="asc"?1:-1})}K.each(function(U,o){var Q=e(o),O=Q.parent().get(0),P,T=[];for(j=0;j<q;j++){var V=N[j],R=V.bFind?(V.bFilter?V.$Filter.filter(o):Q.find(V.sFind)):Q;T.push(V.bData?R.data(V.oSettings.data):(V.bAttr?R.attr(V.oSettings.attr):(V.oSettings.useVal?R.val():R.text())));if(P===c){P=R}}var S=m.call(L,O);if(S<0){S=L.push(O)-1;r[S]={s:[],n:[]}}if(P.length>0){r[S].s.push({s:T,e:Q,n:U})}else{r[S].n.push({e:Q,n:U})}});for(j in r){r[j].s.sort(x)}for(j in r){var F=r[j],H=[],M=G,z=[0,0];switch(t.place){case"first":e.each(F.s,function(o,O){M=i(M,O.n)});break;case"org":e.each(F.s,function(o,O){H.push(O.n)});break;case"end":M=F.n.length;break;default:M=0}for(I=0;I<G;I++){var u=d(H,I)?!g:I>=M&&I<M+F.s.length,y=(u?F.s:F.n)[z[u?0:1]].e;y.parent().append(y);if(u||!t.returns){s.push(y.get(0))}z[u?0:1]++}}K.length=0;Array.prototype.push.apply(K,s);return K}});function a(o){return o&&o.toLowerCase?o.toLowerCase():o}function d(p,r){for(var q=0,o=p.length;q<o;q++){if(p[q]==r){return !g}}return g}e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort})(jQuery);
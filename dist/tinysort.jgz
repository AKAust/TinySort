!function(a,b){"use strict";"function"==typeof define&&define.amd?define(a.tinysort=b(a)):"object"==typeof module&&module.exports?module.exports=a.tinysort=b(a):a.tinysort=b(a)}(this,function(a,b){"use strict";function c(a){function c(){0===arguments.length?h({}):f(arguments,function(a){h(e(a)?{selector:a}:a)}),q=C.length}function h(a){var b=!!a.selector,c=b&&":"===a.selector[0],d=g(a||{},t);C.push(g({bFind:b,bAttr:!(d.attr===j||""===d.attr),bData:d.data!==j,bFilter:c,mFilter:j,fnSort:d.sortFunction,iAsc:"asc"===d.order?1:-1},d))}function m(){f(a,function(a,b){x?x!==a.parentNode&&(D=!1):x=a.parentNode;var c=C[0],d=c.bFilter,e=c.selector,f=!e||d&&a.matchesSelector(e)||e&&a.querySelector(e),g=f?A:B,h={elm:a,pos:b,posn:g.length};z.push(h),g.push(h)}),w=A.slice(0)}function s(){A.sort(u)}function u(a,c){var g=0;for(0!==r&&(r=0);0===g&&q>r;){var h=C[r],j=h.ignoreDashes?o:n;if(f(p,function(a){var b=a.prepare;b&&b(h)}),h.sortFunction)g=h.sortFunction(a,c);else if("rand"==h.order)g=Math.random()<.5?1:-1;else{var k=i,m=d(a,h),s=d(c,h);if(!h.forceStrings){var t=e(m)?m&&m.match(j):i,u=e(s)?s&&s.match(j):i;if(t&&u){var v=m.substr(0,m.length-t[0].length),w=s.substr(0,s.length-u[0].length);v==w&&(k=!i,m=l(t[0]),s=l(u[0]))}}g=m===b||s===b?0:h.iAsc*(s>m?-1:m>s?1:0)}f(p,function(a){var b=a.sort;b&&(g=b(h,k,m,s,g))}),0===g&&r++}return 0===g&&(g=a.pos>c.pos?1:-1),g}function v(){var a=A.length===z.length;D&&a?(A.forEach(function(a){y.appendChild(a.elm)}),x.appendChild(y)):(A.forEach(function(a){var b=a.elm,c=k.createElement("div");a.ghost=c,b.parentNode.insertBefore(c,b)}),A.forEach(function(a,b){var c=w[b].ghost;c.parentNode.insertBefore(a.elm,c),c.parentNode.removeChild(c)}))}e(a)&&(a=k.querySelectorAll(a)),0===a.length&&console.warn("No elements to sort");var w,x,y=k.createDocumentFragment(),z=[],A=[],B=[],C=[],D=!0;return c.apply(j,Array.prototype.slice.call(arguments,1)),m(),s(),v(),A.map(function(a){return a.elm})}function d(a,b){var c,d=a.elm;return b.selector&&(b.bFilter?d.matchesSelector(b.selector)||(d=j):d=d.querySelector(b.selector)),b.bAttr?c=d.getAttribute(b.attr):b.useVal?c=d.value:b.bData?c=d.getAttribute("data-"+b.data):d&&(c=d.textContent),e(c)&&!b.cases&&(c=c.toLowerCase()),c}function e(a){return"string"==typeof a}function f(a,b){for(var c,d=a.length,e=d;e--;)c=d-e-1,b(a[c],c)}function g(a,c,d){for(var e in c)(d||a[e]===b)&&(a[e]=c[e]);return a}function h(a,b,c){p.push({prepare:a,sort:b,sortBy:c})}var i=!1,j=null,k=a.document,l=parseFloat,m=Array.prototype.indexOf,n=/(-?\d+\.?\d*)$/g,o=/(\d+\.?\d*)$/g,p=[],q=0,r=0,s="2.0.101",t={selector:j,order:"asc",attr:j,data:j,useVal:i,place:"start",returns:i,cases:i,forceStrings:i,ignoreDashes:i,sortFunction:j};return a.Element&&function(a){a.matchesSelector=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.parentNode||b.document).querySelectorAll(a),d=-1;c[++d]&&c[d]!=b;);return!!c[d]}}(Element.prototype),g(h,{indexOf:m,loop:f}),g(c,{plugin:h,version:s,defaults:t})});
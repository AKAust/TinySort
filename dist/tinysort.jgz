!function(a,b){"use strict";function c(){return b}"function"==typeof define&&define.amd?define("tinysort",c):a.tinysort=b}(this,function(){"use strict";function a(a,d){function h(){0===arguments.length?q({}):b(arguments,function(a){q(B(a)?{selector:a}:a)}),n=I.length}function q(a){var b=!!a.selector,d=b&&":"===a.selector[0],e=c(a||{},p);I.push(c({hasSelector:b,hasAttr:!(e.attr===g||""===e.attr),hasData:e.data!==g,hasFilter:d,sortReturnNumber:"asc"===e.order?1:-1},e))}function r(){b(a,function(a,b){D?D!==a.parentNode&&(J=!1):D=a.parentNode;var c=I[0],d=c.hasFilter,e=c.selector,f=!e||d&&a.matchesSelector(e)||e&&a.querySelector(e),g=f?G:H,h={elm:a,pos:b,posn:g.length};F.push(h),g.push(h)}),C=G.slice(0)}function s(){G.sort(v)}function t(a,b,c){for(var d=c(a.toString()),e=c(b.toString()),f=0;d[f]&&e[f];f++)if(d[f]!==e[f]){var g=Number(d[f]),h=Number(e[f]);return g==d[f]&&h==e[f]?g-h:d[f]>e[f]?1:-1}return d.length-e.length}function u(a){for(var b,c,d=[],e=0,f=-1,g=0;b=(c=a.charAt(e++)).charCodeAt(0);){var h=46==b||b>=48&&57>=b;h!==g&&(d[++f]="",g=h),d[f]+=c}return d}function v(a,c){var d=0;for(0!==o&&(o=0);0===d&&n>o;){var g=I[o],h=g.ignoreDashes?l:k;if(b(m,function(a){var b=a.prepare;b&&b(g)}),g.sortFunction)d=g.sortFunction(a,c);else if("rand"==g.order)d=Math.random()<.5?1:-1;else{var i=f,p=A(a,g),q=A(c,g),r=""===p||p===e,s=""===q||q===e;if(p===q)d=0;else if(g.emptyEnd&&(r||s))d=r&&s?0:r?1:-1;else{if(!g.forceStrings){var v=B(p)?p&&p.match(h):f,w=B(q)?q&&q.match(h):f;if(v&&w){var x=p.substr(0,p.length-v[0].length),y=q.substr(0,q.length-w[0].length);x==y&&(i=!f,p=j(v[0]),q=j(w[0]))}}d=p===e||q===e?0:g.natural&&(isNaN(p)||isNaN(q))?t(p,q,u):q>p?-1:p>q?1:0}}b(m,function(a){var b=a.sort;b&&(d=b(g,i,p,q,d))}),d*=g.sortReturnNumber,0===d&&o++}return 0===d&&(d=a.pos>c.pos?1:-1),d}function w(){var a=G.length===F.length;if(J&&a)M?G.forEach(function(a,b){a.elm.style.order=b}):D?D.appendChild(x()):console.warn("parentNode has been removed");else{var b=I[0],c=b.place,d="org"===c,e="start"===c,f="end"===c,g="first"===c,h="last"===c;if(d)G.forEach(y),G.forEach(function(a,b){z(C[b],a.elm)});else if(e||f){var i=C[e?0:C.length-1],j=i&&i.elm.parentNode,k=j&&(e&&j.firstChild||j.lastChild);k&&(k!==i.elm&&(i={elm:k}),y(i),f&&j.appendChild(i.ghost),z(i,x()))}else if(g||h){var l=C[g?0:C.length-1];z(y(l),x())}}}function x(){return G.forEach(function(a){E.appendChild(a.elm)}),E}function y(a){var b=a.elm,c=i.createElement("div");return a.ghost=c,b.parentNode.insertBefore(c,b),a}function z(a,b){var c=a.ghost,d=c.parentNode;d.insertBefore(b,c),d.removeChild(c),delete a.ghost}function A(a,b){var c,d=a.elm;return b.selector&&(b.hasFilter?d.matchesSelector(b.selector)||(d=g):d=d.querySelector(b.selector)),b.hasAttr?c=d.getAttribute(b.attr):b.useVal?c=d.value||d.getAttribute("value"):b.hasData?c=d.getAttribute("data-"+b.data):d&&(c=d.textContent),B(c)&&(b.cases||(c=c.toLowerCase()),c=c.replace(/\s+/g," ")),c}function B(a){return"string"==typeof a}B(a)&&(a=i.querySelectorAll(a)),0===a.length&&console.warn("No elements to sort");var C,D,E=i.createDocumentFragment(),F=[],G=[],H=[],I=[],J=!0,K=a.length&&a[0].parentNode,L=K.rootNode!==document,M=a.length&&(d===e||d.useFlex!==!1)&&!L&&-1!==getComputedStyle(K,null).display.indexOf("flex");return h.apply(g,Array.prototype.slice.call(arguments,1)),r(),s(),w(),G.map(function(a){return a.elm})}function b(a,b){for(var c,d=a.length,e=d;e--;)c=d-e-1,b(a[c],c)}function c(a,b,c){for(var d in b)(c||a[d]===e)&&(a[d]=b[d]);return a}function d(a,b,c){m.push({prepare:a,sort:b,sortBy:c})}var e,f=!1,g=null,h=window,i=h.document,j=parseFloat,k=/(-?\d+\.?\d*)\s*$/g,l=/(\d+\.?\d*)\s*$/g,m=[],n=0,o=0,p={selector:g,order:"asc",attr:g,data:g,useVal:f,place:"org",returns:f,cases:f,natural:f,forceStrings:f,ignoreDashes:f,sortFunction:g,useFlex:f,emptyEnd:f};return h.Element&&function(a){a.matchesSelector=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector||function(a){for(var b=this,c=(b.parentNode||b.document).querySelectorAll(a),d=-1;c[++d]&&c[d]!=b;);return!!c[d]}}(Element.prototype),c(d,{loop:b}),c(a,{plugin:d,defaults:p})}());
"use strict";!function(e,t){"function"==typeof define&&define.amd?define("tinysort",function(){return t}):e.tinysort=t}(window||module||{},function(e){function t(e,t){function o(){0===arguments.length?i({}):r(arguments,function(e){i(F(e)?{selector:e}:e)}),m=M.length}function i(e){var t=!!e.selector,r=t&&":"===e.selector[0],o=n(e||{},g);M.push(n({hasSelector:t,hasAttr:!(o.attr===l||""===o.attr),hasData:o.data!==l,hasFilter:r,sortReturnNumber:"asc"===o.order?1:-1},o))}function N(e,t,r){for(var n=r(e.toString()),o=r(t.toString()),a=0;n[a]&&o[a];a++)if(n[a]!==o[a]){var s=Number(n[a]),l=Number(o[a]);return s==n[a]&&l==o[a]?s-l:n[a]>o[a]?1:-1}return n.length-o.length}function y(e){for(var t=[],r=0,n=-1,o=0,a=void 0,s=void 0;a=(s=e.charAt(r++)).charCodeAt(0);){var l=46===a||a>=48&&a<=57;l!==o&&(t[++n]="",o=l),t[n]+=s}return t}function C(e,t){var n=0;0!==v&&(v=0);for(;0===n&&v<m;)!function(){var o=M[v],l=o.ignoreDashes?d:f;r(h,function(e){return e.prepare&&e.prepare(o)});var i=a,u=A(e,o),p=A(t,o);if(o.sortFunction)n=o.sortFunction(e,t);else if("rand"===o.order)n=Math.random()<.5?1:-1;else{var g=""===u||u===s,m=""===p||p===s;if(u===p)n=0;else if(o.emptyEnd&&(g||m))n=g&&m?0:g?1:-1;else{if(!o.forceStrings){var C=F(u)?u&&u.match(l):a,E=F(p)?p&&p.match(l):a;if(C&&E){var S=u.substr(0,u.length-C[0].length),b=p.substr(0,p.length-E[0].length);S==b&&(i=!a,u=c(C[0]),p=c(E[0]))}}n=u===s||p===s?0:o.natural&&(isNaN(u)||isNaN(p))?N(u,p,y):u<p?-1:u>p?1:0}}r(h,function(e){var t=e.sort;return t&&(n=t(o,i,u,p,n))}),0===(n*=o.sortReturnNumber)&&v++}();return 0===n&&(n=e.pos>t.pos?1:-1),n}function E(){return D.forEach(function(e){return w.appendChild(e.elm)}),w}function S(e){var t=e.elm,r=u.createElement("div");return e.ghost=r,t.parentNode.insertBefore(r,t),e}function b(e,t){var r=e.ghost,n=r.parentNode;n.insertBefore(t,r),n.removeChild(r),delete e.ghost}function A(e,t){var r=void 0,n=e.elm,o=t.selector;return o&&(t.hasFilter?n.matches(o)||(n=l):n=n.querySelector(o)),t.hasAttr?r=n.getAttribute(t.attr):t.useVal?r=n.value||n.getAttribute("value"):t.hasData?r=n.getAttribute("data-"+t.data):n&&(r=n.textContent),F(r)&&(t.cases||(r=r.toLowerCase()),r=r.replace(/\s+/g," ")),null===r&&(r=p),r}function F(e){return"string"==typeof e}F(e)&&(e=u.querySelectorAll(e)),0===e.length&&t&&t.console&&t.console.warn("No elements to sort");var w=u.createDocumentFragment(),x=[],D=[],q=[],B=[],M=[],R=void 0,V=!0,$=e.length&&e[0].parentNode,_=$.rootNode!==document,G=e.length&&(t===s||!1!==t.useFlex)&&!_&&-1!==getComputedStyle($,null).display.indexOf("flex");return o.apply(l,Array.prototype.slice.call(arguments,1)),function(){r(e,function(e,t){R?R!==e.parentNode&&(V=!1):R=e.parentNode;var r=M[0],n=r.hasFilter,o=r.selector,a=!o||n&&e.matches(o)||o&&e.querySelector(o),s=a?D:q,l={elm:e,pos:t,posn:s.length};x.push(l),s.push(l)}),B.splice.apply(B,[0,Number.MAX_SAFE_INTEGER].concat(D))}(),D.sort(C),function(){var e=D.length===x.length,t=M[0],r=t.place,n=t.console;if(V&&e)G?D.forEach(function(e,t){return e.elm.style.order=t}):R?R.appendChild(E()):n&&n.warn&&n.warn("parentNode has been removed");else{var o="org"===r,a="start"===r,s="end"===r,l="first"===r,i="last"===r;if(o)D.forEach(S),D.forEach(function(e,t){return b(B[t],e.elm)});else if(a||s){var u=B[a?0:B.length-1],c=u&&u.elm.parentNode,f=c&&(a&&c.firstChild||c.lastChild);f&&(f!==u.elm&&(u={elm:f}),S(u),s&&c.appendChild(u.ghost),b(u,E()))}else if(l||i){var d=B[l?0:B.length-1];b(S(d),E())}}}(),D.map(function(e){return e.elm})}function r(e,t){for(var r=e.length,n=r,o=void 0;n--;)o=r-n-1,t(e[o],o)}function n(e,t,r){for(var n in t)(r||e[n]===s)&&(e[n]=t[n]);return e}function o(e,t,r){h.push({prepare:e,sort:t,sortBy:r})}var a=!1,s=void 0,l=null,i=window,u=i.document,c=parseFloat,f=/(-?\d+\.?\d*)\s*$/g,d=/(\d+\.?\d*)\s*$/g,h=[],p=String.fromCharCode(4095),g={selector:l,order:"asc",attr:l,data:l,useVal:a,place:"org",returns:a,cases:a,natural:a,forceStrings:a,ignoreDashes:a,sortFunction:l,useFlex:a,emptyEnd:a,console:console},m=0,v=0;return i.Element&&function(e){e.matches=e.matches||e.msMatchesSelector}(Element.prototype),n(o,{loop:r}),n(t,{plugin:o,defaults:g})}());
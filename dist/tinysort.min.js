/**
 * TinySort is a small script that sorts HTML elements. It sorts by text- or attribute value, or by that of one of it's children.
 * @summary A nodeElement sorting script.
 * @version 2.3.4
 * @license MIT
 * @author Ron Valstar <ron@ronvalstar.nl>
 * @copyright Ron Valstar <ron@ronvalstar.nl>
 * @namespace tinysort
 */
!function(e,t){"use strict";function r(){return t}"function"==typeof define&&define.amd?define("tinysort",r):e.tinysort=t}(this,function(){"use strict";function e(e,n){function l(){0===arguments.length?m({}):t(arguments,function(e){m(x(e)?{selector:e}:e)}),d=$.length}function m(e){var t=!!e.selector,n=t&&":"===e.selector[0],o=r(e||{},g);$.push(r({hasSelector:t,hasAttr:!(o.attr===s||""===o.attr),hasData:o.data!==s,hasFilter:n,sortReturnNumber:"asc"===o.order?1:-1},o))}function v(){t(e,function(e,t){M?M!==e.parentNode&&(k=!1):M=e.parentNode;var r=$[0],n=r.hasFilter,o=r.selector,a=!o||n&&e.matchesSelector(o)||o&&e.querySelector(o),s=a?R:V,l={elm:e,pos:t,posn:s.length};B.push(l),s.push(l)}),D=R.slice(0)}function y(){R.sort(b)}function N(e,t,r){for(var n=r(e.toString()),o=r(t.toString()),a=0;n[a]&&o[a];a++)if(n[a]!==o[a]){var s=Number(n[a]),l=Number(o[a]);return s==n[a]&&l==o[a]?s-l:n[a]>o[a]?1:-1}return n.length-o.length}function S(e){for(var t,r,n=[],o=0,a=-1,s=0;t=(r=e.charAt(o++)).charCodeAt(0);){var l=46==t||t>=48&&57>=t;l!==s&&(n[++a]="",s=l),n[a]+=r}return n}function b(e,r){var n=0;for(0!==p&&(p=0);0===n&&d>p;){var s=$[p],l=s.ignoreDashes?f:u;if(t(h,function(e){var t=e.prepare;t&&t(s)}),s.sortFunction)n=s.sortFunction(e,r);else if("rand"==s.order)n=Math.random()<.5?1:-1;else{var c=a,g=w(e,s),m=w(r,s),v=""===g||g===o,y=""===m||m===o;if(g===m)n=0;else if(s.emptyEnd&&(v||y))n=v&&y?0:v?1:-1;else{if(!s.forceStrings){var b=x(g)?g&&g.match(l):a,A=x(m)?m&&m.match(l):a;if(b&&A){var C=g.substr(0,g.length-b[0].length),F=m.substr(0,m.length-A[0].length);C==F&&(c=!a,g=i(b[0]),m=i(A[0]))}}n=g===o||m===o?0:s.natural&&(isNaN(g)||isNaN(m))?N(g,m,S):m>g?-1:g>m?1:0}}t(h,function(e){var t=e.sort;t&&(n=t(s,c,g,m,n))}),n*=s.sortReturnNumber,0===n&&p++}return 0===n&&(n=e.pos>r.pos?1:-1),n}function A(){var e=R.length===B.length;if(k&&e)O?R.forEach(function(e,t){e.elm.style.order=t}):M?M.appendChild(C()):console.warn("parentNode has been removed");else{var t=$[0],r=t.place,n="org"===r,o="start"===r,a="end"===r,s="first"===r,l="last"===r;if(n)R.forEach(F),R.forEach(function(e,t){E(D[t],e.elm)});else if(o||a){var c=D[o?0:D.length-1],i=c&&c.elm.parentNode,u=i&&(o&&i.firstChild||i.lastChild);u&&(u!==c.elm&&(c={elm:u}),F(c),a&&i.appendChild(c.ghost),E(c,C()))}else if(s||l){var f=D[s?0:D.length-1];E(F(f),C())}}}function C(){return R.forEach(function(e){q.appendChild(e.elm)}),q}function F(e){var t=e.elm,r=c.createElement("div");return e.ghost=r,t.parentNode.insertBefore(r,t),e}function E(e,t){var r=e.ghost,n=r.parentNode;n.insertBefore(t,r),n.removeChild(r),delete e.ghost}function w(e,t){var r,n=e.elm;return t.selector&&(t.hasFilter?n.matchesSelector(t.selector)||(n=s):n=n.querySelector(t.selector)),t.hasAttr?r=n.getAttribute(t.attr):t.useVal?r=n.value||n.getAttribute("value"):t.hasData?r=n.getAttribute("data-"+t.data):n&&(r=n.textContent),x(r)&&(t.cases||(r=r.toLowerCase()),r=r.replace(/\s+/g," ")),r}function x(e){return"string"==typeof e}x(e)&&(e=c.querySelectorAll(e)),0===e.length&&console.warn("No elements to sort");var D,M,q=c.createDocumentFragment(),B=[],R=[],V=[],$=[],k=!0,z=e.length&&e[0].parentNode,L=z.rootNode!==document,O=e.length&&(n===o||n.useFlex!==!1)&&!L&&-1!==getComputedStyle(z,null).display.indexOf("flex");return l.apply(s,Array.prototype.slice.call(arguments,1)),v(),y(),A(),R.map(function(e){return e.elm})}function t(e,t){for(var r,n=e.length,o=n;o--;)r=n-o-1,t(e[r],r)}function r(e,t,r){for(var n in t)(r||e[n]===o)&&(e[n]=t[n]);return e}function n(e,t,r){h.push({prepare:e,sort:t,sortBy:r})}var o,a=!1,s=null,l=window,c=l.document,i=parseFloat,u=/(-?\d+\.?\d*)\s*$/g,f=/(\d+\.?\d*)\s*$/g,h=[],d=0,p=0,g={selector:s,order:"asc",attr:s,data:s,useVal:a,place:"org",returns:a,cases:a,natural:a,forceStrings:a,ignoreDashes:a,sortFunction:s,useFlex:a,emptyEnd:a};return l.Element&&function(e){e.matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,r=(t.parentNode||t.document).querySelectorAll(e),n=-1;r[++n]&&r[n]!=t;);return!!r[n]}}(Element.prototype),r(n,{loop:t}),r(e,{plugin:n,defaults:g})}());